import{$a as C,Ca as l,Da as T,Ea as i,Fa as a,Ga as c,Ja as b,K as k,O,Pa as s,Pb as A,Qa as R,Sb as z,Tb as D,Wb as L,Xb as q,Yb as G,ab as v,ea as N,fb as x,gb as p,hb as _,i as h,ib as w,jb as S,kb as y,lb as F,ma as m,mb as P,nb as E,pa as f,ta as g,wa as d}from"./chunk-M2LIQBRN.js";import"./chunk-OLRFWS6T.js";var M=(()=>{let e=class e{constructor(r){this.auth=r}getUser(){return z(this.auth)}login(r,o){return h(q(this.auth,r,o))}signup(r,o){return h(D(this.auth,r,o))}resetPassword(r){return h(L(this.auth,r))}logout(){return h(G(this.auth))}};e.\u0275fac=function(o){return new(o||e)(O(A))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y(t,e){t&1&&(i(0,"span"),s(1," Email inv\xE1lido "),a())}function Z(t,e){t&1&&(i(0,"span"),s(1," Contrase\xF1a requerida "),a())}var j=(()=>{let e=class e{constructor(r,o){this.fb=r,this.authService=o,this.form=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required]]})}onSubmit(){let{email:r,password:o}=this.form.value;this.form.valid?this.authService.login(r,o).subscribe({next:n=>{console.log("Sesi\xF3n iniciada:",n.user)},error:n=>{console.error("Error al iniciar sesi\xF3n:",n)}}):this.form.markAllAsTouched()}};e.\u0275fac=function(o){return new(o||e)(f(P),f(M))},e.\u0275cmp=g({type:e,selectors:[["app-login-fom"]],decls:11,vars:3,consts:[[3,"ngSubmit","formGroup"],["type","email","formControlName","email"],[4,"ngIf"],["type","password","formControlName","password"],["type","submit"]],template:function(o,n){o&1&&(i(0,"form",0),b("ngSubmit",function(){return n.onSubmit()}),i(1,"label"),s(2," Email: "),c(3,"input",1),d(4,Y,2,0,"span",2),a(),i(5,"label"),s(6," Contrase\xF1a: "),c(7,"input",3),d(8,Z,2,0,"span",2),a(),i(9,"button",4),s(10,"Iniciar sesi\xF3n"),a()()),o&2&&(l("formGroup",n.form),m(4),l("ngIf",n.form.controls.email.touched&&n.form.controls.email.invalid),m(4),l("ngIf",n.form.controls.password.touched&&n.form.controls.password.invalid))},dependencies:[E,S,x,_,w,y,F,v,C],styles:["form[_ngcontent-%COMP%]{background-color:#2c2c2c;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0006;max-width:400px;margin:2rem auto;display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem;color:#ddd}input[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;border:none;background-color:#3a3a3a;color:#fff;font-size:1rem}input[_ngcontent-%COMP%]:focus{outline:2px solid #888}button[_ngcontent-%COMP%]{padding:.75rem;background-color:#4caf50;border:none;color:#fff;font-weight:700;font-size:1rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#45a049}span[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.8rem}"]});let t=e;return t})();function $(t,e){t&1&&(i(0,"span"),s(1,"Nombre requerido"),a())}function H(t,e){t&1&&(i(0,"span"),s(1,"Email inv\xE1lido"),a())}function J(t,e){t&1&&(i(0,"span"),s(1," M\xEDnimo 8 caracteres "),a())}function K(t,e){t&1&&(i(0,"span"),s(1," Debe contener may\xFAscula, min\xFAscula y n\xFAmero "),a())}function Q(t,e){t&1&&(i(0,"span"),s(1," Campo obligatorio "),a())}var B=(()=>{let e=class e{constructor(r,o){this.fb=r,this.authService=o,this.form=this.fb.group({name:["",p.required],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(8),this.passwordStrengthValidator]],confirmPassword:["",p.required]})}passwordStrengthValidator(r){let o=r.value;return o&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/.test(o)?{weakPassword:!0}:null}onSubmit(){let{email:r,password:o,confirmPassword:n}=this.form.value;this.form.valid&&o===n?this.authService.signup(r,o).subscribe({next:u=>{console.log("\u2705 Usuario registrado:",u.user)},error:u=>{console.error(" Error al registrar:",u)}}):(this.form.markAllAsTouched(),o!==n&&alert("Las contrase\xF1as no coinciden"))}};e.\u0275fac=function(o){return new(o||e)(f(P),f(M))},e.\u0275cmp=g({type:e,selectors:[["app-register-form"]],decls:20,vars:6,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","name"],[4,"ngIf"],["type","email","formControlName","email"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","submit"]],template:function(o,n){o&1&&(i(0,"form",0),b("ngSubmit",function(){return n.onSubmit()}),i(1,"label"),s(2," Nombre: "),c(3,"input",1),d(4,$,2,0,"span",2),a(),i(5,"label"),s(6," Email: "),c(7,"input",3),d(8,H,2,0,"span",2),a(),i(9,"label"),s(10," Contrase\xF1a: "),c(11,"input",4),d(12,J,2,0,"span",2)(13,K,2,0,"span",2),a(),i(14,"label"),s(15," Repite la contrase\xF1a: "),c(16,"input",5),d(17,Q,2,0,"span",2),a(),i(18,"button",6),s(19,"Registrarse"),a()()),o&2&&(l("formGroup",n.form),m(4),l("ngIf",n.form.controls.name.touched&&n.form.controls.name.invalid),m(4),l("ngIf",n.form.controls.email.touched&&n.form.controls.email.invalid),m(4),l("ngIf",n.form.controls.password.touched&&n.form.controls.password.hasError("minlength")),m(),l("ngIf",n.form.controls.password.touched&&n.form.controls.password.hasError("weakPassword")),m(4),l("ngIf",n.form.controls.confirmPassword.touched&&n.form.controls.confirmPassword.invalid))},dependencies:[E,S,x,_,w,y,F,v,C],styles:["form[_ngcontent-%COMP%]{background-color:#2c2c2c;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0006;max-width:400px;margin:2rem auto;display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem;color:#ddd}input[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;border:none;background-color:#3a3a3a;color:#fff;font-size:1rem}input[_ngcontent-%COMP%]:focus{outline:2px solid #888}button[_ngcontent-%COMP%]{padding:.75rem;background-color:#4caf50;border:none;color:#fff;font-weight:700;font-size:1rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#45a049}span[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.8rem}"]});let t=e;return t})();function X(t,e){t&1&&(i(0,"div"),c(1,"app-register-form"),a())}function ee(t,e){t&1&&(i(0,"div"),c(1,"app-login-fom"),a())}var fe=(()=>{let e=class e{constructor(){this.showLogin=N(!0)}toggleForm(){this.showLogin.update(r=>!r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=g({type:e,selectors:[["app-identifier-page"]],decls:5,vars:2,consts:[[1,"form-wrapper"],[3,"click"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"button",1),b("click",function(){return n.toggleForm()}),s(2),a(),d(3,X,2,0,"div")(4,ee,2,0,"div"),a()),o&2&&(m(2),R(" ",n.showLogin()?"\xBFNo tienes cuenta? Reg\xEDstrate":"\xBFYa tienes cuenta? Inicia sesi\xF3n"," "),m(),T(n.showLogin()?4:3))},dependencies:[j,B],styles:["form[_ngcontent-%COMP%]{background-color:#2c2c2c;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0006;max-width:400px;margin:2rem auto;display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.9rem;color:#ddd}input[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;border:none;background-color:#3a3a3a;color:#fff;font-size:1rem}input[_ngcontent-%COMP%]:focus{outline:2px solid #888}button[_ngcontent-%COMP%]{padding:.75rem;background-color:#4caf50;border:none;color:#fff;font-weight:700;font-size:1rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#45a049}span[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.8rem}"]});let t=e;return t})();export{fe as IdentifierPageComponent};
